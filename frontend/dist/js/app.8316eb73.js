(function(t){function e(e){for(var a,n,i=e[0],r=e[1],c=e[2],d=0,_=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&_.push(l[n][0]),l[n]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(_.length)_.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var r=s[i];0!==l[r]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},l={app:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=r;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"039a":function(t,e,s){"use strict";s("7174")},"0b97":function(t,e,s){},"0e08":function(t,e,s){"use strict";s("0b97")},"45c6":function(t,e,s){"use strict";s("7b24")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2909"),l=(s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("d3b7"),s("159b"),s("d81d"),s("99af"),s("7db0"),s("4de4"),s("2b0e")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.$store.state.show_popup?s("popup"):t._e(),t.$store.state.show_login?s("login"):t._e(),s("notifications",{attrs:{width:"40%",position:"top center",duration:5e3},scopedSlots:t._u([{key:"body",fn:function(e){return[s("div",{staticClass:"my-notification",on:{click:e.close}},[s("div",{staticClass:"title"},[t._v(" "+t._s(e.item.title)+" ")]),s("ul",t._l(e.item.text,(function(e){return s("li",{key:e},[t._v(" "+t._s(e.message)+" ")])})),0)])]}}])}),s("div",{staticClass:"navbar"},[s("div",{staticClass:"website-name",on:{click:function(e){return t.get_spot_wallet_balances()}}},[t._v(" On The Spot ")]),s("button",{staticClass:"nav-button",on:{click:function(e){return t.$store.commit("toggleLogin")}}},[t._v(" Manage Keys ")]),s("label",{staticClass:"switch"},[s("input",{attrs:{type:"checkbox"},on:{click:function(e){return e.stopPropagation(),t.toggleDarkMode()}}}),s("span",{staticClass:"slider-switch round"})])]),s("div",{staticClass:"container"},[s("div",{staticClass:"trading"},[s("sell-comp",{attrs:{assets_loaded:t.assets_loaded}}),s("buy-comp")],1),s("div",{staticClass:"history"},[s("div",{staticClass:"card history-card "},[t._m(0),s("div",{staticClass:"card-body"},[s("div",{staticClass:"item"},[s("div",{staticClass:"history-assets item-column"},t._l(t.$store.state.wallet_data.filter((function(t){return 1==t.selected})),(function(e){return s("div",{key:e.asset,staticClass:"swap-asset"},[s("img",{staticClass:"logo scale-up-center",attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}})])})),0),s("div",{staticClass:"arrow item-column"},[t._v("→")]),s("div",{staticClass:"history-assets item-column"},t._l(t.$store.state.wallet_data.filter((function(t){return 1==t.selected_to_buy&&1!=t.selected})),(function(e){return s("div",{key:e.asset,staticClass:"swap-asset"},[s("img",{staticClass:"logo scale-up-center",attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}})])})),0),s("div",{staticClass:"item-column"},[t._v(" "+t._s((t.$store.state.wallet_data.filter((function(t){return 1==t.selected})).reduce((function(t,e){return t+e.usd_value*e.percentage_to_sell/100}),0)/t.$store.state.wallet_data.reduce((function(t,e){return t+e.usd_value}),0)*100).toFixed(1))+"%")]),s("div",{staticClass:"item-column"},[t._v(" $"+t._s(t.$number(t.$store.state.sell_amount)))]),s("button",{staticClass:"item-column swap-button list-item",attrs:{role:"button"},on:{click:function(e){return t.swapButtonClicked()}}},[t._v("Swap")])])])])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-heading"},[s("h3",{staticClass:"card-title"},[t._v("Swap Info")])])}],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{staticClass:"card right-card"},[s("div",{staticClass:"card-heading"},[s("h3",{staticClass:"card-title "},[t._v("Buy")]),s("span",{staticClass:"select-all ",on:{click:function(e){return t.$store.commit("selectAllForBuy")}}},[t._v("Select All")]),s("span",{staticClass:"unselect-all ",on:{click:function(e){return t.$store.commit("unselectAllForBuy")}}},[t._v("Clear All")])]),s("div",{staticClass:"card-body"},[t._l(t.$store.state.wallet_data,(function(e,a){return s("div",{key:e.asset,staticClass:"item  list-item",class:{"item-for-sale":1==e.selected,"item-selected":1==e.selected_to_buy},on:{dblclick:function(e){return t.$store.commit("forceSelectBuyItem",a)},click:function(e){return t.$store.commit("toggleBuyItem",a)}}},[s("img",{staticClass:"logo scale-up-center",attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}}),s("div",{staticClass:"text"},[s("div",{staticClass:"coin-ticker"},[t._v(t._s(e.asset))]),s("div",{staticClass:"coin-price"},[t._v("$"+t._s(t.$number(e.coin_price)))])])])})),s("div",{},[s("input",{staticClass:"coin-add",attrs:{type:"text",placeholder:"Add Coin",name:"",id:""}})])],2)]),s("multi-slider",{staticClass:"multi-slider"})],1)},r=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vue-slider",{ref:"slider",staticClass:"slider",class:{"show-slider":this.$store.state.wallet_data.filter((function(t){return 1==t.selected_to_buy})).length>=2},attrs:{order:!0,process:t.processes,"tooltip-formatter":t.formatter,"enable-cross":!0,tooltip:"always",direction:"ttb",height:"90%",width:10,contained:!1},scopedSlots:t._u([{key:"process",fn:function(e){var a=e.style,l=e.index;return[s("div",{staticClass:"vue-slider-process",style:a},[s("div",{class:["merge-tooltip"]},[s("img",{staticClass:"logo scale-up-center",staticStyle:{width:"30px"},attrs:{src:t.$server+"/static/"+t.coins[l]+".svg"}})])]),s("div",{staticClass:"vue-slider-process",style:a},[s("div",{class:["merge-tooltip-percentage"]},[s("div",{staticClass:"tooltips"},[Array.isArray(t.value)?isNaN(t.value[l-1])?s("div",[t._v(" "+t._s(t.value[l])+"% ")]):isNaN(t.value[l])?s("div",[t._v(" "+t._s(100-t.value[l-1])+"% ")]):s("div",[t._v(" "+t._s(t.value[l]-t.value[l-1])+"% ")]):s("div",[s("div",0==l?[t._v(t._s(100-t.value)+"%")]:[t._v(" "+t._s(t.value)+"%")])])]),s("div",{staticClass:"tooltips"},[Array.isArray(t.value)?isNaN(t.value[l-1])?s("div",[t._v(" $"+t._s(t.$number(t.value[l]/100*t.$store.state.sell_amount))+" ")]):isNaN(t.value[l])?s("div",[t._v(" $"+t._s(t.$number(t.$store.state.sell_amount-t.value[l-1]/100*t.$store.state.sell_amount))+" ")]):s("div",[t._v(" $"+t._s(t.$number(t.value[l]/100*t.$store.state.sell_amount-t.value[l-1]/100*t.$store.state.sell_amount))+" ")]):s("div",[s("div",0==l?[t._v(" $"+t._s(t.$number(t.$store.state.sell_amount-t.$store.state.sell_amount*t.value/100))+" ")]:[t._v(" $"+t._s(t.$number(t.$store.state.sell_amount*t.value/100))+" ")])])])])])]}},{key:"tooltip",fn:function(t){t.index;return[s("div")]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},u=[],d=(s("b680"),s("4971")),_=s.n(d),v=(s("24df"),s("b012")),f={name:"MultiSlider",components:{VueSlider:_.a},data:function(){return{toggle:!0,toggle_amount:!0,value:[50],formatter:"{value}%",coins:[]}},created:function(){var t=this;this.$root.$on("swapButtonClicked",(function(){t.$store.commit("setAmountToBuyOfCoins",{value:t.value,coins:t.coins})}))},methods:{processes:function(t){var e=[];if(Array.isArray(this.value)&&this.value.length>=2){e.push([0,t[0],{backgroundColor:"gray"}]);for(var s=0;s<this.value.length-1;s++)e.push([t[s],t[s+1],{backgroundColor:s%2==0?"var(--main-color)":"gray"}]);e.push([t[this.value.length-1],100,{backgroundColor:this.value.length%2!=0?"var(--main-color)":"gray"}])}else e.push([0,t[0],{backgroundColor:"gray"}]),e.push([t[0],100,{backgroundColor:"var(--main-color)"}]);return e}},watch:{"$store.state.wallet_data":Object(v["debounce"])((function(){var t=this.$store.state.wallet_data.filter((function(t){return 1==t.selected_to_buy&&1!=t.selected})),e=t.map((function(e,s){return(100/t.length*(s+1)).toFixed(0)}));e.pop(),this.coins=t.map((function(t){return t.asset.toLowerCase()})),this.$refs.slider.setValue(e),console.log(e)}),20)}},p=f,m=(s("5a9d"),s("2877")),g=Object(m["a"])(p,c,u,!1,null,"cd19b134",null),h=g.exports,b={components:{MultiSlider:h}},y=b,w=(s("45c6"),Object(m["a"])(y,i,r,!1,null,"314b4cad",null)),$=w.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blur",on:{click:function(e){return e.target!==e.currentTarget?null:(e.preventDefault(),t.$store.commit("togglePopup"))}}},[s("div",{staticClass:" content"},[s("div",{staticClass:"trade-data"},[s("div",{staticClass:"headings"},[s("h3",{staticClass:"title"},[t._v("Sell ("+t._s(t.$store.state.sell_assets.length)+")")]),s("h3",{staticClass:" reverse-arrows",on:{click:function(e){return t.reverseBuySell()}}},[t._v("⇋")]),s("h3",{staticClass:"title"},[t._v("Buy ("+t._s(t.$store.state.buy_assets.length)+") ")])]),s("div",{staticClass:"sell"},t._l(t.$store.state.sell_assets,(function(e){return s("div",{key:e.asset,staticClass:"asset"},[s("div",{staticClass:"asset-name"},[s("img",{attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}}),s("div",{staticClass:"asset-name"},[t._v(" "+t._s(e.asset)+" ")])]),s("div",{staticClass:"info"},[s("p",[t._v(" "+t._s(t.$number(e.asset_amount))+" "+t._s(e.asset)+" ")]),s("p",[t._v(" "+t._s(t.$number(e.asset_amount_to_usd))+" USD ")]),s("p",[t._v(" "+t._s(t.$number(e.asset_percentage))+" % ")])])])})),0),s("div",{staticClass:"buy"},t._l(t.$store.state.buy_assets,(function(e){return s("div",{key:e.asset,staticClass:"asset"},[s("div",{staticClass:"asset-name"},[s("img",{attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}}),s("div",{staticClass:"asset-name"},[t._v(" "+t._s(e.asset)+" ")])]),s("div",{staticClass:"info"},[s("p",[t._v(" "+t._s(t.$number(e.asset_amount))+" "+t._s(e.asset)+" ")]),s("p",[t._v(" "+t._s(t.$number(e.asset_amount_to_usd))+" USD ")]),s("p",[t._v(" "+t._s(t.$number(e.asset_percentage))+" % ")])])])})),0)]),s("button",{staticClass:"swap-button confirm-button",attrs:{role:"button"},on:{click:function(e){return t.confirmSwap()}}},[0==t.loading?s("div",[t._v(" Confirm Swap ($"+t._s(t.$number(t.$store.state.sell_amount))+") ")]):s("div",[t._v(" Contacting Binance... ")])])])])},k=[],S={data:function(){return{loading:!1}},methods:{confirmSwap:function(){var t=this;0==this.loading&&(this.$axios.post(this.$server+"/api/swap",{sell:this.$store.state.sell_assets,buy:this.$store.state.buy_assets}).then((function(e){console.log(e),t.loading=!1,t.$notify({title:e.data.message,text:e.data.errors,errors:e.data.errors}),t.$store.commit("setSwapResponse",e.data),t.$store.commit("togglePopup")})).catch((function(e){t.$notify({title:e.data.message,text:e.data.errors,errors:e.data.errors}),t.$store.commit("setSwapResponse",e.data),t.$store.commit("togglePopup")})),this.loading=!0)},reverseBuySell:function(){}}},A=S,x=(s("68fc"),Object(m["a"])(A,C,k,!1,null,"e16fc3ac",null)),O=x.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{staticClass:"card left-card"},[s("div",{staticClass:"card-heading"},[s("h3",{staticClass:"card-title"},[t._v("Sell")]),s("span",[t._v(" ( $"+t._s(t.$number(t.$store.state.wallet_data.filter((function(t){return 1==t.selected})).reduce((function(t,e){return t+e.usd_value*e.percentage_to_sell/100}),0)))+", "+t._s((t.$store.state.wallet_data.filter((function(t){return 1==t.selected})).reduce((function(t,e){return t+e.usd_value*e.percentage_to_sell/100}),0)/t.$store.state.wallet_data.reduce((function(t,e){return t+e.usd_value}),0)*100).toFixed(1))+"% ) ")]),s("span",{staticClass:"select-all ",on:{click:function(e){return t.$store.commit("selectAllForSell")}}},[t._v("Select All")]),s("span",{staticClass:"unselect-all ",on:{click:function(e){return t.$store.commit("unselectAllForSell")}}},[t._v("Clear All")])]),s("div",{staticClass:"card-body"},t._l(t.$store.state.wallet_data,(function(e,a){return s("div",{key:e.asset,staticClass:"item list-item",class:{"item-selected":1==e.selected,"item-to-buy":1==e.selected_to_buy},on:{dblclick:function(e){return t.$store.commit("forceSelectSellItem",a)},click:function(e){return t.$store.commit("toggleSellItem",a)}}},[s("div",{staticClass:"item-column"},[t._v(" "+t._s(a)+" ")]),s("img",{staticClass:"logo scale-up-center",attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg",alt:""}}),s("div",{staticClass:"text "},[s("div",{staticClass:"coin-ticker"},[t._v(t._s(e.asset))]),s("div",{staticClass:"coin-price"},[t._v("$"+t._s(t.$number(e.coin_price)))])]),s("div",{staticClass:"item-column"},[t._v(" "+t._s(t.$number(e.percentage))+"%")]),s("div",{staticClass:"item-column"},[t._v(" "+t._s(t.$number(e.total))+" "+t._s(e.asset))]),s("div",{staticClass:"item-column "},[t._v("$"+t._s(t.$number(e.usd_value)))]),t._v(" "),s("div",{staticClass:"item-column"},[t._v(" "+t._s(t.$number(e.amount_to_sell))+" ")]),s("div",{staticClass:"item-column"},[t._v(" "+t._s(t.$number(e.amount_to_sell*e.coin_price))+" ")]),s("div",{staticClass:"item-column"},[t._v(" "+t._s(t.$number(e.percentage_to_sell))+"% ")])])})),0)]),s("general-slider",{staticClass:"general-slider"})],1)},j=[],B=(s("cb29"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"icon-list"},[this.$store.state.wallet_data.filter((function(t){return 1==t.selected})).length>=1?s("div",[s("div",{staticClass:"logo scale-up-center",class:{"asset-selected":"Global"==t.asset_chosen},staticStyle:{width:"30px","margin-bottom":"4px"},on:{click:function(e){return t.chooseAsset("Global")}}})]):t._e(),t._l(t.$store.state.wallet_data.filter((function(t){return 1==t.selected})),(function(e){return s("div",{key:e.asset},[s("img",{staticClass:"logo scale-up-center",class:{"asset-selected":t.asset_chosen==e.asset},staticStyle:{width:"30px"},attrs:{src:t.$server+"/static/"+e.asset.toLowerCase()+".svg"},on:{click:function(s){return t.chooseAsset(e.asset)}}})])}))],2),this.$store.state.wallet_data.filter((function(t){return 1==t.selected})).length>=1?s("div",{staticClass:"asset-name"},[t._v(t._s(t.asset_chosen))]):t._e(),s("vue-slider",{staticClass:"slider",class:{"show-slider":this.$store.state.wallet_data.filter((function(t){return 1==t.selected})).length>=1},attrs:{order:!0,process:t.process,"tooltip-formatter":t.formatter,"enable-cross":!0,tooltip:"always",direction:"btt",height:"90%",width:10,interval:.1,change:t.onChange(t.value)},scopedSlots:t._u([{key:"process",fn:function(e){var a=e.style,l=e.index;return[s("div",{staticClass:"vue-slider-process",style:a},[0==l?s("div",{class:["merge-tooltip"]}):t._e()])]}},{key:"tooltip",fn:function(e){var a=e.value;return[s("div",{staticClass:"tooltip-left"},[t._v(" "+t._s(a.toFixed(1))+"% ")]),"Global"==t.asset_chosen?s("div",{staticClass:"tooltip-right"},[t._v(" $"+t._s(t.$number(t.$store.state.wallet_data.filter((function(t){return 1==t.selected})).reduce((function(t,e){return t+e.usd_value*a/100}),0)))+" ")]):s("div",{staticClass:"tooltip-right"},[t._v(" $"+t._s(t.$number(t.$store.state.wallet_data.filter((function(e){return e.asset==t.asset_chosen}))[0].usd_value*a/100))+" ")])]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)}),E=[],I=(s("c740"),{name:"GeneralSlider",components:{VueSlider:_.a},data:function(){return{value:25,formatter:"{value}%",process:function(t){return[[t[0],0,{backgroundColor:"var(--main-color)"}],[t[0],100,{backgroundColor:"gray"}]]},coins:["aave","dot"],asset_chosen:"Global",asset_chosen_index:NaN}},methods:{setSellAmount:function(t){var e=this.$store.state.wallet_data.filter((function(t){return 1==t.selected})).reduce((function(e,s){return e+s.usd_value*t/100}),0);this.$store.commit("setSellAmount",e)},setGlobalSellPercentage:function(t){this.$store.commit("setGlobalSellPercentage",t)},onChange:Object(v["debounce"])((function(t){console.log(t),"Global"==this.asset_chosen?(this.setSellAmount(t),this.setGlobalSellPercentage(t),this.$store.commit("setAmountToSellOfCoins")):this.$store.commit("setPercentageOfSellAsset",{index:this.asset_chosen_index,value:this.value})}),20),chooseAsset:function(t){if(this.asset_chosen=t,"Global"==this.asset_chosen);else{var e=this.$store.state.wallet_data.findIndex((function(e){return e.asset==t}));this.value=this.$store.state.wallet_data[e].percentage_to_sell,this.asset_chosen_index=e}console.log(t)}}}),L=I,T=(s("0e08"),Object(m["a"])(L,B,E,!1,null,"e676ab2e",null)),M=T.exports,F={components:{GeneralSlider:M},props:["assets_loaded"],data:function(){return{values:Array(20).fill(0)}},methods:{setPercentageOfSellAsset:function(t,e){this.$store.commit("setPercentageOfSellAsset",t,e)}},computed:{},watchers:{assets_loaded:function(t,e){console.log("Assets Loaded",t,e),this.values=Array(this.$store.state.wallet_data.length).fill(0)}}},G=F,N=(s("d8e8"),Object(m["a"])(G,P,j,!1,null,"3c5df74d",null)),D=N.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blur",on:{click:function(e){return e.target!==e.currentTarget?null:(e.preventDefault(),t.$store.commit("toggleLogin"))}}},[s("div",{staticClass:" content"},[t._m(0),s("div",{staticClass:"body"},[s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keys.api_key,expression:"keys.api_key"}],attrs:{type:"text",name:"api-key",id:"api-key",placeholder:"API KEY"},domProps:{value:t.keys.api_key},on:{input:function(e){e.target.composing||t.$set(t.keys,"api_key",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keys.api_secret,expression:"keys.api_secret"}],attrs:{type:"text",name:"api-secret",id:"api-secret",placeholder:"API SECRET"},domProps:{value:t.keys.api_secret},on:{input:function(e){e.target.composing||t.$set(t.keys,"api_secret",e.target.value)}}})])]),s("button",{staticClass:"swap-button confirm-button",attrs:{role:"button"},on:{click:function(e){return t.saveAPIKeys()}}},[0==t.loading?s("div",[t._v(" Save API Keys ")]):s("div",[t._v(" Saving Keys ")])])])])},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"headings"},[s("h1",{staticClass:"title"},[t._v("Insert API Keys ")])])}],R={data:function(){return{loading:!1,keys:{api_key:"",api_secret:""}}},created:function(){this.getAPIKeys()},methods:{saveAPIKeys:function(){var t=this;this.loading=!0,this.$axios.post(this.$server+"/api/save-keys",{api_key:this.keys.api_key,api_secret:this.keys.api_secret}).then((function(e){console.log(e),t.loading=!1,t.$notify({title:e.data.message,text:e.data.data}),t.$store.commit("toggleLogin")})).catch((function(){t.$notify({title:"There was an error while saving keys",text:""})}))},getAPIKeys:function(){var t=this;this.$axios.get(this.$server+"/api/get-keys").then((function(e){console.log(e),t.keys=e.data.keys})).catch((function(){t.$notify({title:"There was an error while getting keys",text:""})}))}}},V=R,J=(s("039a"),Object(m["a"])(V,K,U,!1,null,null,null)),W=J.exports,H=s("9c30"),Y={name:"App",components:{Login:W,Popup:O,SellComp:D,BuyComp:$},data:function(){return{show_popup:!1,assets_loaded:!1,darkMode:!0}},methods:{get_spot_wallet_balances:function(){var t=this;this.$axios.get(this.$server+"/api/spot-wallet-balances").then((function(e){t.$store.commit("setWalletData",e.data),t.assets_loaded=!0}))},swapButtonClicked:function(){this.$store.commit("togglePopup"),this.$store.commit("setSellAssetsList"),console.log("what"),this.$root.$emit("swapButtonClicked")},toggleDarkMode:function(){console.log("Toggle Dark Mode"),1==this.darkMode?Object(H["disable"])():Object(H["enable"])({brightness:100,contrast:90,sepia:10}),this.darkMode=!this.darkMode}},created:function(){this.get_spot_wallet_balances(),Object(H["enable"])({brightness:100,contrast:90,sepia:10})}},q=Y,z=(s("034f"),Object(m["a"])(q,o,n,!1,null,null,null)),Q=z.exports,X=s("3f08"),Z=s("bc3a"),tt=s.n(Z),et=s("f43f"),st=s.n(et),at=s("2f62"),lt=s("ee98"),ot=s.n(lt);l["default"].use(at["a"]),l["default"].use(ot.a);var nt=new at["a"].Store({state:{wallet_data:[],sell_amount:0,global_sell_percentage:0,show_popup:!1,show_login:!1,sell_assets:[],buy_assets:[],swap_response:{}},mutations:{setWalletData:function(t,e){t.wallet_data=e;for(var s=0;s<t.wallet_data.length;s++)l["default"].set(t.wallet_data[s],"selected",!1),l["default"].set(t.wallet_data[s],"selected_to_buy",!1),l["default"].set(t.wallet_data[s],"amount_to_sell",0),l["default"].set(t.wallet_data[s],"percentage_to_sell",0),l["default"].set(t.wallet_data[s],"amount_to_buy",0),l["default"].set(t.wallet_data[s],"percentage_to_buy",0)},toggleSellItem:function(t,e){0==t.wallet_data[e].selected_to_buy&&(t.wallet_data[e].selected=!t.wallet_data[e].selected,t.wallet_data=Object(a["a"])(t.wallet_data)),0==t.wallet_data[e].selected&&(t.wallet_data[e].amount_to_sell=0,t.wallet_data[e].percentage_to_sell=0,console.log("toggleSellItem"))},forceSelectSellItem:function(t,e){t.wallet_data[e].selected=!0,t.wallet_data[e].selected_to_buy=!1,t.wallet_data=Object(a["a"])(t.wallet_data)},toggleBuyItem:function(t,e){0==t.wallet_data[e].selected&&(t.wallet_data[e].selected_to_buy=!t.wallet_data[e].selected_to_buy,t.wallet_data=Object(a["a"])(t.wallet_data))},forceSelectBuyItem:function(t,e){t.wallet_data[e].selected=!1,t.wallet_data[e].selected_to_buy=!0,t.wallet_data=Object(a["a"])(t.wallet_data)},setSellAmount:function(t,e){t.sell_amount=e},setGlobalSellPercentage:function(t,e){t.global_sell_percentage=e},setAmountToSellOfCoins:function(t){console.log("setAmountToSellOfCoins"),t.wallet_data.forEach((function(e){1==e.selected&&(e.amount_to_sell=e.total*t.global_sell_percentage/100,e.percentage_to_sell=t.global_sell_percentage)}))},setAmountToBuyOfCoins:function(t,e){if(console.log("setAmountToBuyOfCoins",e.value,e.coins,Array.isArray(e.value)),t.buy_assets=[],Array.isArray(e.value)&&e.value.length>=2||e.coins.length>=2){var s=[];s=Array.isArray(e.value)?Object(a["a"])(e.value):[e.value],s.unshift(0),s.push(100),s=s.map((function(t,e,s){return s[e+1]-s[e]})),s.pop(),console.log(s);var l=s.map((function(t,s){return{asset:e.coins[s],percentage:t}}));console.log("Assets ",l);for(var o=[],n=function(e){var s=l[e],a=t.wallet_data.find((function(t){return t.asset==s.asset.toUpperCase()}));o.push({asset:s.asset.toUpperCase(),asset_amount:t.sell_amount*s.percentage/100/a.coin_price,asset_amount_to_usd:t.sell_amount*s.percentage/100,asset_percentage:s.percentage})},i=0;i<l.length;i++)n(i);t.buy_assets=[].concat(o)}else{console.log("One coin to buy");var r=t.wallet_data.find((function(t){return t.asset==e.coins[0].toUpperCase()}));t.buy_assets=[{asset:r.asset,asset_amount:t.sell_amount/r.coin_price,asset_amount_to_usd:t.sell_amount,asset_percentage:100}]}console.log("buy_assets",t.buy_assets)},setPercentageOfSellAsset:function(t,e){console.log(e.value),t.wallet_data[e.index].percentage_to_sell=e.value,t.wallet_data[e.index].amount_to_sell=t.wallet_data[e.index].total*e.value/100},togglePopup:function(t){t.show_popup=!t.show_popup,1==t.show_popup?document.documentElement.style.setProperty("overflow","hidden"):document.documentElement.style.setProperty("overflow","scroll")},toggleLogin:function(t){t.show_login=!t.show_login,1==t.show_login?document.documentElement.style.setProperty("overflow","hidden"):document.documentElement.style.setProperty("overflow","scroll")},setSellAssetsList:function(t){t.sell_assets=t.wallet_data.filter((function(t){return 1==t.selected})).map((function(t){return{asset:t.asset,asset_amount:t.total*t.percentage_to_sell/100,asset_amount_to_usd:t.usd_value*t.percentage_to_sell/100,asset_percentage:t.percentage_to_sell}})),t.sell_assets=Object(a["a"])(t.sell_assets)},reverseBuySell:function(t){var e=t.sell_assets;t.sell_assets=t.buy_assets,t.buy_assets=e},selectAllForSell:function(t){t.wallet_data.forEach((function(t){if(0==t.selected_to_buy)return t.selected=!0}))},unselectAllForSell:function(t){t.wallet_data.forEach((function(t){t.selected=!1,t.percentage_to_sell=0,t.amount_to_sell=0}))},selectAllForBuy:function(t){t.wallet_data.forEach((function(t){if(0==t.selected)return t.selected_to_buy=!0})),t.wallet_data=Object(a["a"])(t.wallet_data)},unselectAllForBuy:function(t){t.wallet_data.forEach((function(t){return t.selected_to_buy=!1}))},setSwapResponse:function(t,e){t.swap_response=e}}});l["default"].prototype.$store=nt,l["default"].prototype.$axios=tt.a,l["default"].prototype.$server="http://127.0.0.1:5000",l["default"].prototype.$number=st.a.toHumanString,l["default"].use(X["a"].Plugin),l["default"].config.productionTip=!1,new l["default"]({render:function(t){return t(Q)}}).$mount("#app")},"5a9d":function(t,e,s){"use strict";s("c259")},"68fc":function(t,e,s){"use strict";s("85a3")},7174:function(t,e,s){},"7b24":function(t,e,s){},"85a3":function(t,e,s){},"85ec":function(t,e,s){},be92:function(t,e,s){},c259:function(t,e,s){},d8e8:function(t,e,s){"use strict";s("be92")}});
//# sourceMappingURL=app.8316eb73.js.map